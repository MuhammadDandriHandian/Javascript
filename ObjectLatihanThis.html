<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latihan Objek</title>
</head>
<body>
    
<script>
    /* THIS
    - adalah keyword spesial yang secara otomatis didefinisikan pada setiap function/objek
    - setiap bikin function/objek ada keyword this yang didefinisikan
    */

    // function decralation
    // this mengembalikan objek global
    function halo(){
        console.log(this);
        console.log('Hallo World');
    }
    halo();

    // object literal
    // this mengembalikan objek yang bersangkutan
    var obj = {}
    obj.halo = function(){
        console.log(this);
        console.log('Hallo World')
    }
    obj.halo();

    // constraction function
    // this mengembalikan objek yang baru di buat (new)
    function Halo(){
        console.log(this);
        console.log('Hallo World');
    }
    new Halo();

    // Latihan mengelola angkot menggunakan objek untuk mengetahui supir dari angkot tertentu, jalur dari angkot yang berjalan, mengelola kas, mengelola penumpang berupa penumpang naik & turun

    function Angkot(supir, jalur, kas, penumpang){
        this.supir = supir;
        this.jalur = jalur;
        this.kas = kas;
        this.penumpang = penumpang;

        this.penumpangNaik = function(namaPenumpang){
            this.penumpang.push(namaPenumpang);
            return this.penumpang;
        }

        this.penumpangTurun = function(namaPenumpang, bayar = 0){
            if (this.penumpang.length == 0){
                    return "Angkot masih kosong";
            }
            for (let i = 0; i < this.penumpang.length; i++){
                if (this.penumpang[i] == namaPenumpang){
                    this.penumpang[i] = undefined;
                    this.kas += bayar;
                    console.log(this.penumpang);
                    console.log(this.kas);
                }
            }
        }
    }
    let angkot = new Angkot('Ariudin', 'Cianjur-Bandung', 0, []);

</script>
</body>
</html>